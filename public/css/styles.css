[x-cloak] { display: none !important; }

.tagline-fade {
  transition: opacity 0.4s ease;
}
.tagline-fade.fading {
  opacity: 0;
}

.card-compact { transition: all 0.3s ease; }
.card-expanded { transition: all 0.3s ease; }

/* Crisp, clean rendering for small tile images */
.tile-image-wrap {
  position: relative;
  isolation: isolate;
}
.tile-image {
  object-position: center;
  image-rendering: -webkit-optimize-contrast;
  transform: translateZ(0);
  backface-visibility: hidden;
}
@media (min-resolution: 1.5dppx) {
  .tile-image {
    image-rendering: auto;
  }
}

.filter-btn {
  transition: all 0.15s ease;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

.section-header {
  position: relative;
}

.tag-pill {
  font-size: 0.65rem;
  padding: 0.125rem 0.5rem;
  border-radius: 9999px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  white-space: nowrap;
}

:root {
  --tile-min: 150px;
  --tile-max: 180px;
}

.card-grid-compact {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--tile-min), var(--tile-max)));
  justify-content: center;
  align-items: stretch;
}

.card-grid-expanded {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 480px));
  justify-content: center;
  align-items: stretch;
}

.qr-canvas canvas {
  width: 100% !important;
  height: 100% !important;
}

@media (max-width: 768px) {
  .filter-bar { padding-bottom: env(safe-area-inset-bottom, 8px); }
  /* Expanded tiles: full width, 30% less height (shorter image) */
  .card-grid-expanded {
    grid-template-columns: minmax(0, 1fr);
  }
  .expanded-card-image {
    aspect-ratio: 16/7;
  }
}

/* iPad Mini (768px) to iPad Air (1024px): enforce minimum tile size, no expanded transition */
@media (min-width: 768px) and (max-width: 1024px) {
  .card-grid-compact,
  .card-grid-expanded {
    grid-template-columns: repeat(auto-fill, minmax(max(200px, var(--tile-min)), max(240px, var(--tile-max))));
  }
  .compact-card {
    display: flex !important;
  }
  .expanded-card {
    display: none !important;
  }
}

html { scroll-behavior: smooth; }

@media (max-width: 1024px) {
  html { font-size: 110%; }
}

body {
  -webkit-overflow-scrolling: touch;
  background: url('../images/bg-light.png') no-repeat center center fixed;
  background-size: cover;
  background-color: #f9fafb;
}

html.dark body {
  background: url('../images/bg-dark.png') no-repeat center center fixed;
  background-size: cover;
  background-color: #111827;
}
